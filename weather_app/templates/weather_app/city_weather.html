
<form method="post">
    {% csrf_token %}
    <input type="text" name="city1" placeholder="Enter city" required>
    <button type="submit"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#1c71d8" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search-check"><path d="m8 11 2 2 4-4"/><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg></button>
    <h1><b>{{ weather_data.city }} | {{ weather_data.time }}</b></h1>
</form>
{% if weather_data %}
    <div class="now">
        <div class="grid">
            <div class="row1">
                <div class="current1">
                    <div class="image">
                        <img src="http://openweathermap.org/img/wn/{{ weather_data.icon }}@2x.png" alt="{{ weather_data.description }}">
                    </div>

                    <div class="info">
                        <h2><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-thermometer-sun"><path d="M12 9a4 4 0 0 0-2 7.5"/><path d="M12 3v2"/><path d="m6.6 18.4-1.4 1.4"/><path d="M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/><path d="M4 13H2"/><path d="M6.34 7.34 4.93 5.93"/></svg> &nbsp;{{ weather_data.temperature }}°C</h2> 
                        <h3><svg fill="#000000" width="24px" height="24px" viewBox="0 0 32 32" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00032"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <defs> <style> .cls-1 { fill: none; } </style> </defs> <path d="M26,30H22a2.0059,2.0059,0,0,1-2-2V21a2.0059,2.0059,0,0,1-2-2V13a2.9465,2.9465,0,0,1,3-3h6a2.9465,2.9465,0,0,1,3,3v6a2.0059,2.0059,0,0,1-2,2v7A2.0059,2.0059,0,0,1,26,30ZM21,12a.9448.9448,0,0,0-1,1v6h2v9h4V19h2V13a.9448.9448,0,0,0-1-1Z" transform="translate(0 0)"></path> <path d="M24,9a4,4,0,1,1,4-4h0A4.0118,4.0118,0,0,1,24,9Zm0-6a2,2,0,1,0,2,2h0a2.0059,2.0059,0,0,0-2-2Z" transform="translate(0 0)"></path> <path d="M10,20.1839V12H8v8.1839a3,3,0,1,0,2,0Z" transform="translate(0 0)"></path> <path d="M9,30A6.9931,6.9931,0,0,1,4,18.1108V7A5,5,0,0,1,14,7V18.1108A6.9931,6.9931,0,0,1,9,30ZM9,4A3.0033,3.0033,0,0,0,6,7V18.9834l-.332.2983a5,5,0,1,0,6.664,0L12,18.9834V7A3.0033,3.0033,0,0,0,9,4Z" transform="translate(0 0)"></path> <rect id="_Transparent_Rectangle_" data-name="<Transparent Rectangle>" class="cls-1" width="24" height="24"></rect> </g></svg> &nbsp;Feels like {{weather_data.feels}}°C</h3>
                        <p><svg fill="#000000" width="20px" height="20px" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M852 845q-5 0-10-1-13-2-30-7-23-7-50-17-35-15-66-39 1-10-9-26-7-12-20-25l-8-8q-6-7-11-19t-6-19.5 2-13.5l1-3q2-6-.5-6t-6 9-3.5 21q0 14 8 40 2 8 3 25l-35-25q-15-12-28-26 5-3 9.5-9t6.5-27-2-44q-4-26-14-42-7-14-16-25l-7-8-30-61q-7-15-19.5-34T493 432v-1q-14-14-15.5-12t8.5 13q4 4 13 20 11 19 19 36 10 27 16 59l-2 10-1 16-14-24q-8-14-19-26-7-41-17-61t-27-35q-3-13-7-25-8-21-24-49l-4-8q-2-6-7.5-12.5t-6-6 4.5 9.5l2 4q1 2 7 19l7 18q7 20 10 42-1 3-2 5l-6 11q-3-5-8-10t-10-12q-5-32-14.5-63T370 292q-6-11-13.5-21.5T348 261t5 15l5 10q15 33 14 53-2 11-6 22l-14-13q-7-5-22-16 7-32-3-58-6-14-15-27-13-32-31-52-11-13-13-10l5 8q7 10 14 21 3 5 9 21l5 15q-2 5-3.5 10t-3.5 14q-16-24-35-40.5T233 218q-1 0 4 4 23 22 37 45 23 37 18 57-2 4-9 6-3-29-17-49-10-15-26-29-11-10-24-19l-10-6q-18-21-31-46-7-14-17-40-7-16-8.5-16t3.5 21.5 13 37.5l21 50q0 25 9 48 1 11 4 25.5t6 21.5q6 15 15 28l-4-1q-5-1-8-3t-14.5-13.5T175 319l-12-16q-14-19-15.5-18t8 17.5T175 334l24 32 3 12q6 15 15.5 23t19.5 14q8 3 15 5l5 1 16 22h-20q-10 0-19 1-17-10-30-25-9-11-21-28l-6-7q-10-12-11.5-11t1.5 7 6 10l6 7q34 48 49 61 42 39 68 51 11 4 22 7l23 35-36-3q-2 0-13-5.5T272 530q-16-14-39-39l-8-10q-5-7-5.5-6.5t1.5 5.5 4 8q18 25 39 46 9 10 38 33l6 6q15 17 29 28 11 7 31 9l17 16 15 16 4 11q2 6 5 11l-8-2q-11-3-24-12-7-5-20.5-16T340 620q-14-15-15.5-13.5T332 619q5 7 19 22 17 18 25 24l14 10q20 14 24 19 9 12 23 22 24 18 54.5 22.5T549 736q13-4 20-9 13 12 20 17 9 8 17 16-7 1-19 1t-33 4q-24 5-39.5 11.5T486 794q-5 4-6 10 4 0 7.5-2.5t15.5-7 19-4.5q15 0 37 7 10 4 27 6 21 4 39 4t39-6l6-2q1 0 24 15 26 17 38 23 18 11 48 24.5t34 13.5q9-1 25-14l11-11 2-5zM253 362q-3 0-7-2l-4-2q-11-8-17.5-18.5T217 317q12 16 19.5 21.5T253 345l2 8v5q0 4-2 4zm43 87q-9-5-18-15l-6-9q8 2 16 3 5 1 11 0l12 13 12 14h-8q-9-1-19-6zm45-89l5 5q7 7 15 17 6 8 8 19 2 8 .5 13.5T364 420l-4-1q-5-5-9-10l-9-11v-15zm55 207q-1 2-6 .5t-11-4.5q-9-5-22-19l-12-14q8 2 14.5 3t12.5-1l15 17q6 6 8 11t1 7zm29-109q3 2 8 3l3 21q1 7 4 17l2 10-8-1q-2-3-5-7l-5-5-1-18q-2-13-5-25 3 3 7 5zm32 208q-4-1-9.5-4t-10.5-5q-12-5-20-16 8-1 16-1t14 2l24 21q-7 3-14 3zm69-35l-6-8q-6-9-9-12l-10-12q1-9 2-17 1-5 2-14v-8q1 0 7.5 8.5T524 586q7 12 7 20 2 13-5 25z"></path></g></svg>&nbsp;{{ weather_data.description }}</p>
                    </div>

                </div>
                <div class="current2">
                    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-rain-wind"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="m9.2 22 3-7"/><path d="m9 13-3 7"/><path d="m17 13-3 7"/></svg>  Precipitation: {{ weather_data.prep }}%</p>
                    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-gauge-circle"><path d="M15.6 2.7a10 10 0 1 0 5.7 5.7"/><circle cx="12" cy="12" r="2"/><path d="M13.4 10.6 19 5"/></svg>    Pressure: {{ weather_data.pressure }} hPa</p>
                    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>  Visibility: {{ weather_data.visibility }} km</p>
                    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-droplets"><path d="M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"/><path d="M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"/></svg>  Humidity: {{weather_data.humidity}}%</p>
                    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-wind"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>  Wind: {{weather_data.wind}}m/s {{weather_data.direction}}</p>
                </div>
            </div>
            <div class="row2">
                <div class="aqi">
                    <h3> <svg fill="#000000" height="30px" width="30px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M325.184,148.135c-9.918,0-17.958,8.041-17.958,17.958v82.392l-33.267-25.166V78.304c0-9.918-8.041-17.958-17.958-17.958 c-9.918,0-17.958,8.041-17.958,17.958v145.015l-33.267,25.166v-82.392c0-9.918-8.041-17.958-17.958-17.958 C83.805,148.135,0,231.941,0,334.951v80.416c0,20.008,16.277,36.286,36.285,36.286h132.203c20.008,0,36.285-16.277,36.285-36.286 V293.521L256,254.77l51.226,38.751v121.847c0,20.008,16.277,36.285,36.286,36.285h132.203c20.008,0,36.285-16.277,36.285-36.285 v-80.416C512,231.941,428.195,148.135,325.184,148.135z M168.859,415.368h-0.001c0,0.572-132,0.369-132.572,0.369 c-0.204,0-0.369-0.165-0.369-0.369v-80.416c0-77.132,58.166-140.934,132.941-149.837v90.541l-28.937,21.89l-30.291-22.915 c-7.908-5.982-19.172-4.421-25.156,3.489c-5.984,7.909-4.421,19.172,3.489,25.156l22.193,16.789l-22.193,16.789 c-7.91,5.984-9.471,17.247-3.489,25.156c5.989,7.916,17.252,9.468,25.156,3.489l59.229-44.805V415.368z M475.715,415.737 c-0.572,0-132.572,0.204-132.572-0.369v-94.678l59.229,44.805c7.908,5.983,19.171,4.424,25.156-3.489 c5.984-7.909,4.421-19.172-3.489-25.156l-22.193-16.789l22.193-16.789c7.91-5.984,9.471-17.247,3.489-25.156 c-5.985-7.91-17.248-9.472-25.156-3.489l-30.292,22.915l-28.937-21.89v-90.539c74.775,8.904,132.941,72.705,132.941,149.837 v80.416h0C476.083,415.572,475.918,415.737,475.715,415.737z"></path> </g> </g> </g></svg>&nbsp;<b>AQI: <{{ weather_data.aqi_main }}</b></h3>
                    <p><b>{{ weather_data.aqi }}</b></p>
                    
                    <div class="aqi-row1">
                        <p style="font-size: 18px"><b><svg fill="{{ weather_data.co_col }}" width="24px" height="24px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <circle cx="12" cy="12" r="12"></circle> </g></svg>CO</b>: {{ weather_data.co }} &nbsp; <b><svg fill="{{ weather_data.no2_col }}" width="24px" height="24px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <circle cx="12" cy="12" r="12"></circle> </g></svg>NO₂</b>: {{ weather_data.no2 }} &nbsp; <b><svg fill="{{ weather_data.pm10_col }}" width="24px" height="24px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <circle cx="12" cy="12" r="12"></circle> </g></svg>PM₁₀</b>: {{ weather_data.pm10 }} </p>
                    </div>

                    <div class="aqi-row2">
                        <p style="font-size:18px"><b><svg fill="{{ weather_data.o3_col }}" width="24px" height="24px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <circle cx="12" cy="12" r="12"></circle> </g></svg>O₃</b>: {{ weather_data.o3 }} &nbsp; <b><svg fill="{{ weather_data.so2_col }}" width="24px" height="24px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <circle cx="12" cy="12" r="12"></circle> </g></svg>SO₂</b>: {{ weather_data.so2 }} &nbsp; <b><svg fill="{{ weather_data.pm2_5_col }}" width="24px" height="24px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <circle cx="12" cy="12" r="12"></circle> </g></svg>PM₂.₅</b>: {{ weather_data.pm2_5 }} </p>
                    </div>
                </div>



                <div class="sun">
                    <h3><b>Sunrise-sunset</b></h3>    
                    <img src="https://raw.githubusercontent.com/toxic-candy/weather-dashboard/main/imgs/images/{{ weather_data.tod }}.svg" alt="sunrise-sunset image"/>
                    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sunrise"><path d="M12 2v8"/><path d="m4.93 10.93 1.41 1.41"/><path d="M2 18h2"/><path d="M20 18h2"/><path d="m19.07 10.93-1.41 1.41"/><path d="M22 22H2"/><path d="m8 6 4-4 4 4"/><path d="M16 18a4 4 0 0 0-8 0"/></svg>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sunset"><path d="M12 10V2"/><path d="m4.93 10.93 1.41 1.41"/><path d="M2 18h2"/><path d="M20 18h2"/><path d="m19.07 10.93-1.41 1.41"/><path d="M22 22H2"/><path d="m16 6-4 4-4-4"/><path d="M16 18a4 4 0 0 0-8 0"/></svg>&nbsp;&nbsp;</p>
                    <p>{{ weather_data.sunrise }} - {{ weather_data.sunset }}</p>
                </div>
            </div>
        </div>

        <div class="map">
            <iframe src="https://embed.windy.com/embed2.html?lat={{ weather_data.lat }}&lon={{ weather_data.lon }}&detailLat=12.963&detailLon=77.586&width=650&height=450&zoom=8&level=surface&overlay=wind&product=ecmwf&menu=&message=&marker=&calendar=now&pressure=&type=map&location=coordinates&detail=&metricWind=km%2Fh&metricTemp=%C2%B0C&radarRange=-1" frameborder="0"></iframe>        
        </div>
    </div>
{% endif %}
    
{% if daily_forecasts %}
    <h2>1 Week Forecast</h2>
    <div class="forecast-container">
        {% for forecast in daily_forecasts %}
            <div class="forecast">
                <h3>{{ forecast.day }}</h3>
                <p>{{ forecast.min_temp }}°C - {{ forecast.max_temp }}°C</p>
                <p>{{ forecast.description }}</p>
                <p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-rain-wind"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="m9.2 22 3-7"/><path d="m9 13-3 7"/><path d="m17 13-3 7"/></svg>: {{ forecast.pop }}%</p>
                <img src="http://openweathermap.org/img/wn/{{ forecast.icon }}.png" alt="{{ forecast.description }}">
            </div>
        {% endfor %}
    </div>
{% endif %}
